{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"ngx-toastr\";\nexport let PokemonService = /*#__PURE__*/(() => {\n  class PokemonService {\n    constructor(http, toastr) {\n      this.http = http;\n      this.toastr = toastr;\n      this.pokemon_url = 'https://pokeapi.co/api/v2/pokemon';\n      this.infoItem = new BehaviorSubject({\n        name: 'DUMMY',\n        url: 'DUMMY',\n        forms: []\n      });\n      this.sprites = new BehaviorSubject({\n        sprites: {\n          back_default: null,\n          back_female: null,\n          back_shiny: null,\n          back_shiny_female: null,\n          front_default: null,\n          front_female: null,\n          front_shiny: null,\n          front_shiny_female: null\n        }\n      });\n    }\n\n    getPokemonList(limit = 10000, offset = 0) {\n      return this.http.get(this.pokemon_url + '?limit=' + limit + '&offset=' + offset);\n    }\n\n    getPokemon(request) {\n      return this.http.get(request);\n    }\n\n    getPokemonSprites(request) {\n      return this.http.get(request);\n    }\n\n    setInfoItem(item) {\n      this.getPokemon(item?.url).subscribe({\n        next: data => (this.infoItem.next(data), this.getPokemonSprites(data?.forms[0].url).subscribe({\n          next: sprites => this.sprites.next(sprites),\n          error: sprites_e => (console.error(sprites_e), this.toastr.error(sprites_e))\n        })),\n        error: e => (console.error(e), this.toastr.error(e)),\n        complete: () => this.toastr.success(\"loaded info\")\n      });\n    }\n\n  }\n\n  PokemonService.ɵfac = function PokemonService_Factory(t) {\n    return new (t || PokemonService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ToastrService));\n  };\n\n  PokemonService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: PokemonService,\n    factory: PokemonService.ɵfac,\n    providedIn: 'root'\n  });\n  return PokemonService;\n})();","map":null,"metadata":{},"sourceType":"module"}